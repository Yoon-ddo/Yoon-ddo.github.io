---
title: C언어03_Pro\*C의 이해
toc: true
toc_sticky: true
toc_label: "Contents of Page"
categories:
  - Study
tags:
  - C_Programing
---

# 1. Pro\*C란
* SQL문을 포함한 C프로그램에서 DB에 접근 및 조작할 수 있는 프로그램으로 변환하기 위한 언어.
* 프리 컴파일러이다.
* 입력파일 내에 있는 EXEC SQL문을 이용하여 출력파일을 작성하고, 이 파일을 컴파일하고 링크해서 실행모듈 작성한다.
  1. C 프로그램을 작성한다.
  2. 프로그램을 컴파일하여 오브젝트 파일을 작성한다.
  3. 오브젝트 파일을 링크해서 실행 가능한 파일을 작성한다.
  4. 프로그램을 실행한다.

* C프로그램 어디에든 배치해도 좋다.

* **EXEC SQL**
  - SQL문을 호스트언어에 포함
  - 발생할 수 있는 언어상의 장애 최소화.
  - 모든 SQL문에는 EXEC SQL의 접두사를 붙인다. 
  - 실행문 선언문에 관계없이 붙는 접두사이다.

* **EXEC ORACLE**
  - SQL과는 호환성이 없다.
  - ORACLE 프리컴파일러 특유의 것이다.

<br><br><br>

## 실행문
* DB에 대한 콜을 생성하는 SQL문
* DML, DDL, DCL등이 있다.
* 실행 후 SQLCA에는 일련의 리턴코드가 저장된다.
* CONNECT, COMMIT, ROLLBACK 문의 다음에 첫 번째로 나타나는 SQL실행문 부터 논리적인 작업 단위가 새롭게 시작됨


<br><br><br>

## 선언문
* 코드생성 X
* 논리적 작업단위에 영향 없음.

<br><br><br>

# 2. Pro\*C의 구성
## 어플리케이션 프롤로그
* 변수를 정의하고 Pro\*C 프로그램을 위한 일반적 준비 수행
* 선언절, INCLUDE SQLCA문, CONNECT문

### 01) 선언절
* C프로그램 내에서 사용된 모든 호스트 변수 선언.

```

EXEC SQL BEGIN DECLARE SECTION; -- 시작
-- ~~~~
EXEC SQL END DECLARE SECTION; -- 종료

```


<br><br>

## 어플리케이션 본체
* 데이터를 조작하기 위한 INSERT, UPDATE 등의 SQL문을 포함
* 처리 시 필요로 하는 코드의 전후에 어떠한 C코드를 지정해도 상관없다.
