---
title: Spring03
toc: true
toc_sticky: true
toc_label: "Contents of Page"
categories:
  - Study
tags:
  - Spring_Study
---

<br><br>

# 1.Setter주입과 Constructor주입
* setter주입은 매개변수가 1개, Constructor는 매개변수가 1개이상이다.
* xml파일에 등록

```xml
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
	
  <bean>
    
  </bean>
  
  
</beans>
```


## 1-1. Setter주입
* set메소드를 이용한 주입
* `property` 태그에 name, ref 속성 사용.

### 1-1-1. collection도 쓸 수 있음.(List, Map, Set)
* List , Set

```xml
<bean class="di.collection.Test" id="test>
   <property name="list">
       <list>
            <value>aaa</value>
            <value>bbb</value>
            <value>ccc</value>
       </list>
  </property>
</bean>
```

* Map

```xml
<bean class="di.collection.Test" id="test>
   <property name="map">
       <map>
           <entry>
                <key>park</key>
                <value>박길동</value>
           </entry>
           <entry>
                <key>hong</key>
                <value>홍길동</value>
           </entry>
      </map>
  </property>
</bean>
```

<br><br>

## 1-2. Constructor
* 생성자를 이용한 주입
* `constructor-arg`태그에 속성을 붙여 사용
  - ref : 이미 만들어진 객체 삽입
  - value : 상수값 삽입
    + \<constructor-arg value="hello"/>와 \<value>hello\</value>는 같다.
  - index : 순서 제어
  - type : java.lang.String처럼 type 지정가능
    + 사용 예) value="10"일때 문자인지 숫자인지 구분해주고 싶을 때.  
* ref와 value는 바꿔써도 알아서 타입매칭해주지만 위험한 방법이다.

```xml
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
	
	<bean class="di.xml02.HankookTire" id="hankook" />
	<bean class="di.xml02.KumhoTire" id="kumho" />
	<bean class="di.xml02.Car" id="car">
		<!--  생성자 주입을 하겠다는 의미  -->
		<constructor-arg ref="hankook" />
	</bean>
	
	<bean class="di.xml02.Car" id="car2">
		<!-- new Car(new HankookTire(), new KumhoTire()) -->
		<constructor-arg ref="hankook"/>
		<constructor-arg ref="kumho"/>
	</bean>
	
	<bean class="di.xml02.Car" id="car3">
		<!-- new Car(Tire, String)  
		- ref : 이미만들어진 객체삽입, value : 상수값 삽입 
		  바꿔써도 알아서 타입매칭해주지만 위험한 방법이다. 
		  index 속성으로 순서를 제어할수도 있다.-->
		<constructor-arg ref="kumho" index="0"/>
		<constructor-arg value="hello" index="1"/>
	</bean>
</beans>
```

<br><br><br>

# 2. Annotation주입
* 자동주입
* Xml파일이 너무 커지는 것을 방지
* 자동주입 기능 사용시 스프링이 알아서 의존객체를 찾아서 주입
* `<context:annotation-config />` 태그 추가
* Java파일에 의존주입 대상에 @Autowired 또는 @Resource 설정
